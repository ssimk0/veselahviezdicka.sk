{"version":3,"sources":["webpack:///./src/views/gallery/Detail.vue?cda3","webpack:///./src/views/gallery/Detail.vue?50f6","webpack:///src/views/gallery/Detail.vue","webpack:///./src/views/gallery/Detail.vue?c333","webpack:///./src/views/gallery/Detail.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","user","is_admin","can_edit","staticClass","attrs","$route","params","_v","_s","$t","_e","imagesArray","images","ref","options","_l","img","key","id","file","desc","on","deleteImage","staticRenderFns","name","data","category","slug","type","inline","button","navbar","title","toolbar","tooltip","movable","zoomable","rotatable","scalable","transition","fullscreen","keyboard","components","Viewer","beforeRouteEnter","next","vm","getUploadsByCategory","to","methods","uploads","computed","upload","map","component","$","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"gKAAA,yBAAuf,EAAG,G,2CCA1f,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAIM,OAASN,EAAIM,KAAKC,UAAYP,EAAIM,KAAKE,UAAWJ,EAAG,MAAM,CAACK,YAAY,OAAO,CAACL,EAAG,MAAM,CAACK,YAAY,oBAAoB,CAACL,EAAG,cAAc,CAACK,YAAY,qEAAqEC,MAAM,CAAC,GAAM,YAAeV,EAAIW,OAAOC,OAAW,KAAI,YAAa,CAACZ,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAIe,GAAG,mBAAmB,QAAQ,KAAKf,EAAIgB,KAAKZ,EAAG,MAAM,CAACA,EAAG,cAAc,CAACM,MAAM,CAAC,GAAK,aAAa,CAACV,EAAIa,GAAGb,EAAIc,GAAGd,EAAIe,GAAG,qBAAqB,GAAIf,EAAIiB,aAAejB,EAAIkB,OAAQd,EAAG,SAAS,CAACe,IAAI,SAASV,YAAY,SAASC,MAAM,CAAC,OAASV,EAAIiB,YAAY,QAAUjB,EAAIoB,UAAU,CAAChB,EAAG,MAAM,CAACK,YAAY,OAAOT,EAAIqB,GAAIrB,EAAIkB,OAAa,QAAE,SAASI,GAAK,OAAOlB,EAAG,MAAM,CAACmB,IAAID,EAAIE,GAAGf,YAAY,sEAAsE,CAACL,EAAG,aAAa,CAACK,YAAY,mCAAmCC,MAAM,CAAC,IAAMY,EAAIG,KAAK,IAAMH,EAAII,QAAS1B,EAAIM,OAASN,EAAIM,KAAKC,UAAYP,EAAIM,KAAKE,UAAWJ,EAAG,MAAM,CAACK,YAAY,QAAQ,CAACL,EAAG,SAAS,CAACK,YAAY,iBAAiBkB,GAAG,CAAC,MAAQ,WAAc,OAAO3B,EAAI4B,YAAYN,EAAIE,OAAS,CAACxB,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAIe,GAAG,mBAAmB,SAASf,EAAIgB,MAAM,MAAK,KAAKhB,EAAIgB,MAAM,IACzuCa,EAAkB,G,0DCkCtB,G,UAAA,CACEC,KAAM,SACNC,KAFF,WAGI,MAAO,CACLC,SAAU/B,KAAKU,OAAOC,OAAOqB,KAC7BC,KAAM,EAAZ,KACMd,QAAS,CACPe,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,OAAO,EACPC,SAAS,EACTC,SAAS,EACTC,SAAS,EACTC,UAAU,EACVC,WAAW,EACXC,UAAU,EACVC,YAAY,EACZC,YAAY,EACZC,UAAU,KAIhBC,WAAY,CACVC,OAAQ,WAAZ,yDAEEC,iBA1BF,SA0BA,OACIC,GAAK,SAAT,GAEMC,EAAGC,qBAAqB,CACtBnB,KAAM,EAAd,KACQF,SAAUsB,EAAG1C,OAAOqB,OAE5B,iBACQ,WAKNsB,QAAS,OAAX,OAAW,CAAX,kBACA,0CADA,IAEI3B,YAFJ,SAEA,cACM4B,EAAN,aACQxB,SAAU/B,KAAKU,OAAOC,OAAOqB,KAC7BC,KAAM,EAAd,KACQV,GAAR,IACA,iBACQ,EAAR,sBACUU,KAAM,EAAhB,KACUF,SAAU,EAApB,2BAKEyB,SAAU,OAAZ,OAAY,CAAZ,kBACA,oCADA,IAEIvC,OAFJ,WAGM,OAAOjB,KAAKuD,SAAWvD,KAAKuD,QAAQvD,KAAK+B,UAC/C,4BACA,MAEIf,YAPJ,WAQM,OAAIhB,KAAKiB,OACAjB,KAAKiB,OAAOwC,OAAOC,KAAI,SAAtC,oBAEa,QCpGkV,I,wBCQ3VC,EAAY,eACd,EACA7D,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAA+B,E,2CClBf,IAAIC,EAAI,EAAQ,QACZC,EAAO,EAAQ,QAAgCH,IAC/CI,EAA+B,EAAQ,QACvCC,EAA0B,EAAQ,QAElCC,EAAsBF,EAA6B,OAEnDG,EAAiBF,EAAwB,OAK7CH,EAAE,CAAEM,OAAQ,QAASC,OAAO,EAAMC,QAASJ,IAAwBC,GAAkB,CACnFP,IAAK,SAAaW,GAChB,OAAOR,EAAK7D,KAAMqE,EAAYC,UAAUC,OAAS,EAAID,UAAU,QAAKE","file":"js/chunk-9ec00b64.3662965a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=4ec3a94c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=4ec3a94c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.user && (_vm.user.is_admin || _vm.user.can_edit))?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col admin-button\"},[_c('router-link',{staticClass:\"fas fa-cloud-upload-alt float-right h4 mt-2 btn btn-xs btn-primary\",attrs:{\"to\":(\"/gallery/\" + (_vm.$route.params.slug) + \"/upload\")}},[_vm._v(\" \"+_vm._s(_vm.$t('buttons.upload'))+\" \")])],1)]):_vm._e(),_c('div',[_c('router-link',{attrs:{\"to\":\"/gallery\"}},[_vm._v(_vm._s(_vm.$t('buttons.back')))])],1),(_vm.imagesArray && _vm.images)?_c('viewer',{ref:\"viewer\",staticClass:\"viewer\",attrs:{\"images\":_vm.imagesArray,\"options\":_vm.options}},[_c('div',{staticClass:\"row\"},_vm._l((_vm.images.upload),function(img){return _c('div',{key:img.id,staticClass:\"col-12 col-sm-6 col-md-4 col-lg-3 mt-2 text-center gal-img-wrapper\"},[_c('b-img-lazy',{staticClass:\"gal-img img-thumbnail img-fluid \",attrs:{\"src\":img.file,\"alt\":img.desc}}),(_vm.user && (_vm.user.is_admin || _vm.user.can_edit))?_c('div',{staticClass:\"pt-4\"},[_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function () { return _vm.deleteImage(img.id); }}},[_vm._v(\" \"+_vm._s(_vm.$t('buttons.delete'))+\" \")])]):_vm._e()],1)}),0)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"user && (user.is_admin || user.can_edit)\" class=\"row\">\n      <div class=\"col admin-button\">\n        <router-link :to=\"`/gallery/${$route.params.slug}/upload`\"\n                     class=\"fas fa-cloud-upload-alt float-right h4 mt-2 btn btn-xs btn-primary\">\n          {{ $t('buttons.upload') }}\n        </router-link>\n      </div>\n    </div>\n    <div>\n      <router-link to=\"/gallery\">{{ $t('buttons.back') }}</router-link>\n    </div>\n    <viewer v-if=\"imagesArray && images\" :images=\"imagesArray\" :options=\"options\"\n            class=\"viewer\" ref=\"viewer\">\n      <div class=\"row\">\n        <div class=\"col-12 col-sm-6 col-md-4 col-lg-3 mt-2 text-center gal-img-wrapper\"\n             v-for=\"img in images.upload\" :key=\"img.id\">\n          <b-img-lazy :src=\"img.file\" class=\"gal-img img-thumbnail img-fluid \" :alt=\"img.desc\"/>\n          <div class=\"pt-4\" v-if=\"user && (user.is_admin || user.can_edit)\" >\n            <button class=\"btn btn-danger\" @click=\"() => deleteImage(img.id)\">\n              {{ $t('buttons.delete') }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </viewer>\n  </div>\n</template>\n\n<script>\nimport uploads, { GALLERY_TYPE } from '@/api/uploads';\nimport { mapActions, mapGetters } from 'vuex';\nimport 'viewerjs/dist/viewer.css';\n\nexport default {\n  name: 'Detail',\n  data() {\n    return {\n      category: this.$route.params.slug,\n      type: GALLERY_TYPE,\n      options: {\n        inline: false,\n        button: false,\n        navbar: false,\n        title: false,\n        toolbar: true,\n        tooltip: false,\n        movable: false,\n        zoomable: false,\n        rotatable: false,\n        scalable: false,\n        transition: true,\n        fullscreen: true,\n        keyboard: true,\n      },\n    };\n  },\n  components: {\n    Viewer: () => import('v-viewer/src/component'),\n  },\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      // if (vm.categories === null || vm.categories === undefined) {\n      vm.getUploadsByCategory({\n        type: GALLERY_TYPE,\n        category: to.params.slug,\n      })\n        .then(() => {\n          next();\n        });\n      // }\n    });\n  },\n  methods: {\n    ...mapActions(['getUploadsByCategory']),\n    deleteImage(id) {\n      uploads.delete({\n        category: this.$route.params.slug,\n        type: GALLERY_TYPE,\n        id,\n      }).then(() => {\n        this.getUploadsByCategory({\n          type: GALLERY_TYPE,\n          category: this.$route.params.slug,\n        });\n      });\n    },\n  },\n  computed: {\n    ...mapGetters(['uploads', 'user']),\n    images() {\n      return this.uploads && this.uploads[this.category]\n        ? this.uploads[this.category]\n        : null;\n    },\n    imagesArray() {\n      if (this.images) {\n        return this.images.upload.map((img) => img.file);\n      }\n      return [];\n    },\n  },\n};\n</script>\n\n<style scoped>\n.gal-img {\n  height: 150px;\n}\n\n.gal-img-wrapper {\n  position: relative;\n}\n\n.gal-img-wrapper i {\n  position: absolute;\n  top: 0;\n  left: 0;\n  color: red;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=4ec3a94c&scoped=true&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=4ec3a94c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ec3a94c\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}