(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6d5c"],{"73f0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center align-items-center",attrs:{id:"page-edit"}},[a("ValidationObserver",{staticClass:"col-12 pt-5",scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[a("form",{on:{submit:function(e){return e.preventDefault(),i(t.submit)}}},[a("ValidationProvider",{attrs:{rules:"required|min:3",name:t.$t("pageEdit.labels.Title"),debounce:300},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-form-group",[a("label",[t._v(t._s(t.$t("pageEdit.labels.Title")))]),a("b-input",{attrs:{type:"text"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e.errors[0]?a("div",{staticClass:"help-block with-errors text-danger"},[t._v(t._s(e.errors[0])+" ")]):t._e()],1)]}}],null,!0)}),a("ValidationProvider",{attrs:{rules:"required|min:6",name:t.$t("pageEdit.labels.Body"),debounce:300},scopedSlots:t._u([{key:"default",fn:function(e){return[a("mce-field",{attrs:{"init-value":t.page.body,label:t.$t("pageEdit.labels.Body")},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}}),e.errors[0]?a("div",{staticClass:"help-block with-errors text-danger"},[t._v(t._s(e.errors[0])+" ")]):t._e()]}}],null,!0)}),a("div",{staticClass:"text-right"},[a("b-button",{attrs:{size:"xs",type:"submit",variant:"primary",disabled:t.disabled}},[t._v(" "+t._s(t.$t("pageEdit.buttons.confirm"))+" ")])],1)],1)]}}])})],1)},n=[],s=a("5530"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form-group",[a("label",[t._v(t._s(t.label))]),a("div",{staticClass:"mb-3"},[t.note?a("small",[t._v(t._s(t.note))]):t._e()]),a("vue-mce",{ref:"editor",attrs:{init:t.config,"initial-value":t.initValue,"api-key":t.apiKey},on:{input:t.update},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},l=[],r=(a("d3b7"),a("bc3a")),u=a.n(r),c={name:"MceField",props:{note:String,initValue:String,value:String,label:String},mounted:function(){console.log(this)},data:function(){return{apiKey:"l1vv22obp09u6lv98hvp8fksoyoda2mo65dtmzg1r13bodzi",content:"",config:{plugins:"advlist autolink lists link image charmap print code preview table hr anchor pagebreak",fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",language:"sk",image_advtab:!0,images_upload_handler:function(t,e,a){var i=new FormData;i.append("file",t.blob(),t.filename()),u.a.post("/api/v1/uploads/pages/media",i).then((function(t){e(t.data.file)})).catch((function(t){a("HTTP Error: ".concat(t.message))}))},relative_urls:!1,height:300,statusbar:!1,menubar:!1,toolbar:"undo redo | fontselect  fontsizeselect forecolor | bold italic underline strikethrough hr | alignleft  aligncenter alignright alignjustify | bullist numlist blockquote outdent indent table | link image imagetools | removeformat code fullscreen"}}},components:{"vue-mce":function(){return a.e("chunk-ff9321ce").then(a.bind(null,"ca72"))}},methods:{update:function(){this.$emit("input",this.content)}}},d=c,p=a("2877"),b=Object(p["a"])(d,o,l,!1,null,null,null),f=b.exports,m=a("2f62"),g=a("153a"),h=a("a060"),v={name:"EditPage",components:{MceField:f},beforeRouteEnter:function(t,e,a){a((function(e){e.getPage({type:t.params.type,slug:t.params.slug}).then((function(){a()}))}))},data:function(){return{body:"",title:"",disabled:!1}},mounted:function(){this.body=this.page.body,this.title=this.page.title},methods:Object(s["a"])(Object(s["a"])({},Object(m["b"])(["getPage"])),{},{submit:function(){var t=this;this.disabled||(this.disabled=!0,g["a"].update({id:this.page.id,body:this.body,title:this.title}).then((function(){t.$toasted.success(t.$t("pageEdit.messages.success")),t.disabled=!1,t.$router.push({name:h["a"].PAGE,params:{type:t.$route.params.type,slug:t.$route.params.slug}})}),(function(){t.$toasted.error(t.$t("messages.error")),t.disabled=!1})))}}),computed:Object(s["a"])(Object(s["a"])({},Object(m["c"])(["details"])),{},{page:function(){return this.details[this.$route.params.type]?this.details[this.$route.params.type][this.$route.params.slug]:{}}})},y=v,_=Object(p["a"])(y,i,n,!1,null,"ca2003a6",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0d6d5c.64c9371c.js.map